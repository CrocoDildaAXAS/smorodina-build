import{a as l,b as d,c}from"./BTbU19mV.js";import{j as p,k as h,q as i,s as t,y as m,z as u,v as b,A as f,T as x,F as g,x as r,B as k,C as _}from"./DAn7dnkX.js";const w={data(){return{token:"",toastMessage:"",toastTimeout:null,showToast:!1,BrandName:""}},mounted(){this.token=l.get("authtoken")},computed:{...h(c,["url"])},methods:{async createBrand(){try{await d.post(`${this.url}api/cp/brand/`,{name:this.BrandName},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`}}),this.toastMessage="Успешно создано!.",this.showToast=!0,this.toastTimeout&&clearTimeout(this.toastTimeout),this.toastTimeout=setTimeout(()=>{this.hideToast()},5e3)}catch{this.toastMessage="Ошибка при создании бренда.",this.showToast=!0,this.toastTimeout&&clearTimeout(this.toastTimeout),this.toastTimeout=setTimeout(()=>{this.hideToast()},5e3)}},hideToast(){this.showToast=!1},beforeEnter(s){s.classList.add("toast-enter")},enter(s,e){s.addEventListener("animationend",e,{once:!0})},leave(s,e){s.classList.add("toast-exit"),s.addEventListener("animationend",e,{once:!0})}}},v={class:"max-w-8xl px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto"},T={class:"bg-gray-500 rounded-xl shadow p-4 sm:p-7"},y={class:"grid sm:grid-cols-12 gap-2 sm:gap-4 py-8 first:pt-0 last:pb-0 border-t first:border-transparent border-pink-600"},B=t("div",{class:"sm:col-span-3"},[t("label",{for:"af-submit-application-full-name",class:"inline-block text-sm font-medium text-white font-montserrat mt-2.5"}," Название бренда ")],-1),C={class:"sm:col-span-9"},E={class:"sm:flex"},N={key:0,class:"toast fixed top-4 left-4 max-w-xs bg-pink-100 border border-rose-300 rounded-xl shadow-lg dark:bg-white dark:border-pink-600",role:"alert",tabindex:"-1","aria-labelledby":"hs-toast-error-example-label"},L={class:"flex p-4"},M=t("div",{class:"shrink-0"},null,-1),j={class:"ms-3"},z={id:"hs-toast-error-example-label",class:"text-sm text-pink-700 dark:text-pink-300"},V=t("span",{class:"sr-only"},"Close",-1),A=t("svg",{class:"shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1),D=[V,A];function F(s,e,S,q,n,o){return r(),i(g,null,[t("div",v,[t("div",T,[t("form",null,[t("div",y,[B,t("div",C,[t("div",E,[m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.BrandName=a),id:"af-submit-application-full-name",type:"text",class:"font-montserrat py-2 px-3 pe-11 block w-full border-gray-300 border-gray-400 text-black shadow-sm text-sm rounded-lg focus:border-pink-500 focus:ring-pink-500 disabled:opacity-50 disabled:pointer-events-none"},null,512),[[u,n.BrandName]])])])]),t("button",{onClick:e[1]||(e[1]=(...a)=>o.createBrand&&o.createBrand(...a)),type:"button",class:"font-montserrat w-full py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-pink-600 text-white hover:bg-white hover:text-pink-600 transition focus:outline-none focus:bg-white disabled:opacity-50 disabled:pointer-events-none"}," Создать ")])])]),b(x,{name:"toast",onBeforeEnter:o.beforeEnter,onEnter:o.enter,onLeave:o.leave},{default:f(()=>[n.showToast?(r(),i("div",N,[t("div",L,[M,t("div",j,[t("p",z,k(n.toastMessage),1)]),t("button",{type:"button",class:"inline-flex shrink-0 justify-center items-center size-5 rounded-lg text-white bg-pink-900 hover:bg-pink-600 focus:outline-none focus:bg-white","aria-label":"Close",onClick:e[2]||(e[2]=(...a)=>o.hideToast&&o.hideToast(...a))},D)])])):_("",!0)]),_:1},8,["onBeforeEnter","onEnter","onLeave"])],64)}const H=p(w,[["render",F]]);export{H as default};
